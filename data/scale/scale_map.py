# 📁 /data/scale/scale_map.py

# 🎼 코드별 스케일 매핑 (C4 = 60)
SCALE_MAP = {
    # ✅ 기본 메이저 스케일
    "C Major": [60, 62, 64, 65, 67, 69, 71],
    "G Major": [55, 57, 59, 60, 62, 64, 66],
    "D Major": [50, 52, 54, 55, 57, 59, 61],
    "A Major": [57, 59, 61, 62, 64, 66, 68],
    "E Major": [52, 54, 56, 57, 59, 61, 63],
    "B Major": [47, 49, 51, 52, 54, 56, 58],
    "F Major": [53, 55, 57, 58, 60, 62, 64],
    "Bb Major": [58, 60, 62, 63, 65, 67, 69],
    "Eb Major": [63, 65, 67, 68, 70, 72, 74],

    # ✅ 마이너 스케일
    "C Minor": [60, 62, 63, 65, 67, 68, 71],
    "G Minor": [55, 57, 58, 60, 62, 63, 66],
    "D Minor": [50, 52, 53, 55, 57, 58, 61],
    "A Minor": [57, 59, 60, 62, 64, 65, 67],
    "E Minor": [52, 54, 55, 57, 59, 60, 62],
    "B Minor": [47, 49, 50, 52, 54, 55, 57],
    "F Minor": [53, 55, 56, 58, 60, 61, 64],
    "Bb Minor": [58, 60, 61, 63, 65, 66, 69],

    # 🎷 재즈 스타일 코드 (7th, 9th, 13th)
    "Cmaj7": [60, 62, 64, 66, 67, 69, 71],
    "Gmaj7": [55, 57, 59, 61, 62, 64, 66],
    "Dmaj7": [50, 52, 54, 56, 57, 59, 61],
    "Amaj7": [57, 59, 61, 63, 64, 66, 68],
    "Emaj7": [52, 54, 56, 58, 59, 61, 63],

    "G7": [55, 57, 59, 60, 62, 64, 65],
    "F7": [53, 55, 57, 58, 60, 62, 63],
    "A7": [57, 59, 61, 62, 64, 66, 67],
    "D7": [50, 52, 54, 55, 57, 59, 60],
    "E7": [52, 54, 56, 57, 59, 61, 62],

    "C9": [60, 62, 64, 66, 67, 69, 71, 73],
    "G9": [55, 57, 59, 61, 62, 64, 66, 68],
    "D9": [50, 52, 54, 56, 57, 59, 61, 63],

    # 🎸 락 스타일 (펜타토닉 스케일)
    "C5": [60, 63, 65, 67, 70],
    "G5": [55, 58, 60, 62, 65],
    "A5": [57, 60, 62, 64, 67],
    "E5": [52, 55, 57, 59, 62],
}

def get_scale_for_chord(chord):
    """주어진 코드에 해당하는 스케일을 반환 (없으면 가장 가까운 코드 선택)"""
    if chord in SCALE_MAP:
        return SCALE_MAP[chord]

    # 코드가 없으면 가장 가까운 메이저/마이너 코드 찾기
    for key in SCALE_MAP.keys():
        if chord.startswith(key.split(" ")[0]):  # 코드의 루트 음이 같으면 매칭
            return SCALE_MAP[key]

    # 그래도 없으면 기본 C Major 스케일 반환
    return SCALE_MAP["C Major"]